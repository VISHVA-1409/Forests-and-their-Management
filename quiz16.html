<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forest MCQ Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(-45deg, #65c1e4, #4daf7c, #e47fcc);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
            color: #333;
        }
        
        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }
        
        .quiz-container {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .quiz-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 25px rgba(0,0,0,0.25);
        }
        
        h1 {
            color: #2e7d32;
            text-align: center;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        h2 {
            color: #e32b12;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .question-container {
            margin-bottom: 25px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #f9f9f9;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .question-container:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .question {
            font-weight: bold;
            margin-bottom: 10px;
            color: #1a5276;
        }
        
        .options {
            margin-left: 20px;
        }
        
        .option {
            margin-bottom: 8px;
            transition: all 0.2s ease;
            padding: 5px;
            border-radius: 3px;
        }
        
        .option:hover {
            background-color: #f0f0f0;
            transform: scale(1.01);
        }
        
        input[type="radio"] {
            cursor: pointer;
        }
        
        input[type="radio"]:checked + label {
            font-weight: bold;
            color: #2980b9;
        }
        
        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .correct {
            background-color: #dff0d8;
            color: #3c763d;
            border-left: 4px solid #3c763d;
        }
        
        .incorrect {
            background-color: #f2dede;
            color: #a94442;
            border-left: 4px solid #a94442;
        }
        
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            display: block;
            margin: 20px auto;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        button:hover {
            background-color: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        button:active {
            transform: translateY(1px);
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }
        
        .score-display {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            margin-top: 20px;
            color: #2e7d32;
            padding: 10px;
            background-color: rgba(255,255,255,0.7);
            border-radius: 5px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }
        
        .reset-btn {
            background-color: #f44336;
        }
        
        .reset-btn:hover {
            background-color: #d32f2f;
        }
        
        .control-panel {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            padding: 10px;
            background-color: rgba(255,255,255,0.7);
            border-radius: 5px;
        }
        
        .toggle-btn {
            background-color: #2980b9;
            padding: 8px 12px;
        }
        
        .toggle-btn:hover {
            background-color: #1a5276;
        }
        
        .progress-container {
            width: 100%;
            background-color: #f3f3f3;
            border-radius: 5px;
            margin: 15px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 20px;
            background: linear-gradient(to right, #4CAF50, #2196F3);
            width: 0%;
            border-radius: 5px;
            transition: width 0.5s ease;
            text-align: center;
            line-height: 20px;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
        
        .floating-bubble {
            position: absolute;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            pointer-events: none;
            animation: float 8s infinite ease-in-out;
        }
        
        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            20% { opacity: 0.8; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }
    </style>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-XXXXXXXXXX');
    </script>
</head>
<body>
    <div class="quiz-container">
        <h1>Forest Knowledge Quiz</h1>
        <h2>Vishva S A 23MIS0420</h2>
        
        <div class="control-panel">
            <button id="randomize-btn" class="toggle-btn">Randomize Questions</button>
            <button id="original-btn" class="toggle-btn">Original Order</button>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar" id="progress">0%</div>
        </div>
        
        <div id="quiz"></div>
        <button id="submit" type="button">Submit Answers</button>
        <button id="reset" type="button" class="reset-btn" style="display: none;">Reset Quiz</button>
        <div class="score-display" id="score"></div>
    </div>

    <script>
        const quizData = [
            {
                question: "Which of these is not a consumptive value?",
                options: ["timber", "firewood", "non-timber forest products", "education"],
                correctAnswer: "education"
            },
            {
                question: "Which of these is not a forest type found in India?",
                options: ["Mediterranean dry", "Tropical dry", "Montane temperate", "Alpine"],
                correctAnswer: "Mediterranean dry"
            },
            {
                question: "\"Plant community, predominantly comprised of trees and other woody vegetation, usually with a closed canopy\" is",
                options: ["silvicultural definition of forests", "FAO definition of forests", "legal definition of forests", "ecological definition of forests"],
                correctAnswer: "ecological definition of forests"
            },
            {
                question: "According to the Supreme Court, the word forest must be understood according to its",
                options: ["biological meaning", "ecological meaning", "silvicultural meaning", "dictionary meaning"],
                correctAnswer: "dictionary meaning"
            },
            {
                question: "Which of these is not a use value?",
                options: ["direct value", "indirect value", "option value", "existence value"],
                correctAnswer: "existence value"
            },
            {
                question: "According to the Supreme Court, the term forest land includes",
                options: ["some area recorded as forest in the Government record according to ownership", 
                        "any area recorded as forest in the Government record according to ownership", 
                        "some area recorded as forest in the Government record irrespective of ownership", 
                        "any area recorded as forest in the Government record irrespective of ownership"],
                correctAnswer: "any area recorded as forest in the Government record irrespective of ownership"
            },
            {
                question: "Tropical moist forests do not include",
                options: ["broadleaved forests", "wet evergreen forests", "semi-evergreen forests", "moist deciduous forests"],
                correctAnswer: "broadleaved forests"
            },
            {
                question: "The value of leaving use and non-use values for offspring's or future generations is called",
                options: ["altruistic value", "bequest value", "existence value", "option value"],
                correctAnswer: "bequest value"
            },
            {
                question: "The term 'forest' originates from",
                options: ["Latin foris meaning outside", "Greek foris meaning outside", "Latin foris meaning trees", "Greek foris meaning trees"],
                correctAnswer: "Latin foris meaning outside"
            },
            {
                question: "The value derived from the knowledge of use of resources by others in the current generation is called",
                options: ["altruistic value", "bequest value", "existence value", "option value"],
                correctAnswer: "altruistic value"
            },
            // quiz 2
            {
                question: "Lithosere is an example of",
                options: ["hydrosere", "xerosere", "psammosere", "halosere"],
                correctAnswer: "xerosere"
            },
            {
                question: "Which of these depicts correctly the lithosere primary succession?",
                options: [
                    "Rock â†’ Crustose lichen â†’ Foliose lichen â†’ Moss â†’ Herbaceous stage â†’ Shrub â†’ Woodland â†’ Climax",
                    "Rock â†’ Foliose lichen â†’ Crustose lichen â†’ Moss â†’ Herbaceous stage â†’ Shrub â†’ Woodland â†’ Climax",
                    "Moss â†’ Crustose lichen â†’ Foliose lichen â†’ Rock â†’ Herbaceous stage â†’ Shrub â†’ Woodland â†’ Climax",
                    "Rock â†’ Crustose lichen â†’ Foliose lichen â†’ Shrub â†’ Herbaceous stage â†’ Moss â†’ Woodland â†’ Climax"
                ],
                correctAnswer: "Rock â†’ Crustose lichen â†’ Foliose lichen â†’ Moss â†’ Herbaceous stage â†’ Shrub â†’ Woodland â†’ Climax"
            },
            {
                question: "At compensation point,",
                options: ["photosynthesis = respiration", "photosynthesis > respiration", "photosynthesis < respiration", "none of these"],
                correctAnswer: "photosynthesis = respiration"
            },
            {
                question: "The study of life history / general features of forest crops with respect to environmental factors is called",
                options: ["foresticulture", "monoculture", "silviculture", "silvics"],
                correctAnswer: "silvics"
            },
            {
                question: "A climax caused by wildfires is an example of",
                options: ["climatic climax", "edaphic climax", "disclimax", "catastrophic climax"],
                correctAnswer: "catastrophic climax"
            },
            {
                question: "Net primary productivity is given by",
                options: ["APAR + LUE", "APAR X LUE", "APAR - LUE", "APAR Ã· LUE"],
                correctAnswer: "APAR X LUE"
            },
            {
                question: "Practical application of scientific, technical and economic principles of forestry comes under which branch of forestry ?",
                options: ["forest management", "forest economics", "forest mensuration", "forest protection"],
                correctAnswer: "forest management"
            },
            {
                question: "In the context of plant nutrition, boron is",
                options: ["macronutrient", "micronutrient", "primary nutrient", "secondary nutrient"],
                correctAnswer: "micronutrient"
            },
            {
                question: "Which of these is not a characteristic of pioneer species",
                options: ["ability to grow on bare rocks", "ability to tolerate extreme temperatures", "large size", "short life span"],
                correctAnswer: "large size"
            },
            {
                question: "The climax near Tindni village is being controlled by disturbance by cattle. This is an example of",
                options: ["climatic climax", "edaphic climax", "disclimax", "catastrophic climax"],
                correctAnswer: "disclimax"
            },
            // quiz 3
            {
                question: "Mechanical action of ocean waves is an example of",
                options: ["chemical weathering", "physical weathering", "biological weathering", "none of the above"],
                correctAnswer: "physical weathering"
            },
            {
                question: "Khadar is a type of",
                options: ["black cotton soil", "alluvial soil", "saline soil", "red and yellow soil"],
                correctAnswer: "alluvial soil"
            },
            {
                question: "In soil profile, C refers to",
                options: ["organic surface layer", "topsoil layer", "subsoil layer", "substratum layer"],
                correctAnswer: "substratum layer"
            },
            {
                question: "Regur is a term for",
                options: ["black cotton soil", "alluvial soil", "saline soil", "red and yellow soil"],
                correctAnswer: "black cotton soil"
            },
            {
                question: "Bangar is a type of",
                options: ["black cotton soil", "alluvial soil", "saline soil", "red and yellow soil"],
                correctAnswer: "alluvial soil"
            },
            {
                question: "Soil formation is dependent upon",
                options: ["vegetation", "time", "climate", "all of the above"],
                correctAnswer: "all of the above"
            },
            {
                question: "Thermal stresses lead to",
                options: ["chemical weathering", "physical weathering", "biological weathering", "none of the above"],
                correctAnswer: "physical weathering"
            },
            {
                question: "Carbonation is an example of",
                options: ["chemical weathering", "physical weathering", "biological weathering", "none of the above"],
                correctAnswer: "chemical weathering"
            },
            {
                question: "Cryofracturing is an example of",
                options: ["chemical weathering", "physical weathering", "biological weathering", "none of the above"],
                correctAnswer: "physical weathering"
            },
            {
                question: "Hydrolysis is an example of",
                options: ["chemical weathering", "physical weathering", "biological weathering", "none of the above"],
                correctAnswer: "chemical weathering"
            },
            // quiz 4
            {
                question: "For absolute form factor, the reference for the base of the cylinder is",
                options: ["base of the tree", "breast height", "10% of tree height", "20% of tree height"],
                correctAnswer: "base of the tree"
            },
            {
                question: "For normal form factor, the reference for the base of the cylinder is",
                options: ["base of the tree", "breast height", "10% of tree height", "20% of tree height"],
                correctAnswer: "10% of tree height"
            },
            {
                question: "In India, the breast height is considered to be",
                options: ["1.37 m", "1.47 m", "1.57 m", "2.47 m"],
                correctAnswer: "1.37 m"
            },
            {
                question: "Measurement of height based on similar triangles comes under:",
                options: ["similar measurement", "dissimilar measurement", "direct measurement", "indirect measurement"],
                correctAnswer: "indirect measurement"
            },
            {
                question: "For a tree with dbh = 45.6 cm, height = 27 m and total stem volume of 1.78 cum, the artificial form factor for the tree is:",
                options: ["0.1", "0.2", "0.3", "0.4"],
                correctAnswer: "0.4"
            },
            {
                question: "Consider a stand of eucalyptus trees that are on average 30 cm in diameter and spaced on a regular 3 m grid. Find the spacing factor.",
                options: ["5", "10", "15", "data insufficient"],
                correctAnswer: "10"
            },
            {
                question: "Diameter over bark (dob), diameter under bark (dub) and bark thickness (tb) are related as:",
                options: ["dob = dub + tb", "dob = dub - tb", "dob = dub + 2 Ã— tb", "dob = dub - 2 Ã— tb"],
                correctAnswer: "dob = dub + 2 Ã— tb"
            },
            {
                question: "For false form factor, the reference for the base of the cylinder is",
                options: ["base of the tree", "breast height", "10% of tree height", "20% of tree height"],
                correctAnswer: "breast height"
            },
            {
                question: "Choose the correct statement:",
                options: [
                    "For a non-circular cross-section, girth tape over-estimates the sectional area.",
                    "For a non-circular cross-section, girth tape under-estimates the sectional area.",
                    "For a non-circular cross-section, girth tape correctly estimates the sectional area.",
                    "None of these is a correct statement."
                ],
                correctAnswer: "For a non-circular cross-section, girth tape over-estimates the sectional area."
            },
            {
                question: "A tree has dbh of 25 cm. Find its basal area in sq m.",
                options: [".049", ".096", ".149", ".195"],
                correctAnswer: ".049"
            },
            // quiz 5
            {
                question: "\"This sampling employs a simple rule of selecting every kth unit starting with a number chosen at random from 1 to k as the random start.\" We're talking about",
                options: ["Simple random sampling", "Systematic sampling", "Stratified sampling", "Multistage sampling"],
                correctAnswer: "Systematic sampling"
            },
            {
                question: "IMU stands for",
                options: ["Imperial metering unit", "Inertial metering unit", "Imperial measurement unit", "Inertial measurement unit"],
                correctAnswer: "Inertial measurement unit"
            },
            {
                question: "___ is how close the measured values are to the correct value.",
                options: ["Accuracy", "Precision", "Bias", "Variance"],
                correctAnswer: "Accuracy"
            },
            {
                question: "A list of sampling units is called a",
                options: ["frame", "window", "sample", "population"],
                correctAnswer: "frame"
            },
            {
                question: "The time of flight for LiDAR is 0.00001 sec. Find the distance of the object from the instrument.",
                options: ["500 m", "1000 m", "1500 m", "2000 m"],
                correctAnswer: "1500 m"
            },
            {
                question: "Which of these is correct?",
                options: [
                    "Plane surveying takes into account the true shape of the Earth and is used for smaller areas (< 250 sq km)",
                    "Plane surveying takes into account the true shape of the Earth and is used for larger areas (> 250 sq km)",
                    "Geodetic surveying takes into account the true shape of the Earth and is used for smaller areas (< 250 sq km)",
                    "Geodetic surveying takes into account the true shape of the Earth and is used for larger areas (> 250 sq km)"
                ],
                correctAnswer: "Geodetic surveying takes into account the true shape of the Earth and is used for larger areas (> 250 sq km)"
            },
            {
                question: "A sampling procedure such that each possible combination of sampling units out of the population has the same chance of being selected is referred to as",
                options: ["Simple random sampling", "Systematic sampling", "Stratified sampling", "Multistage sampling"],
                correctAnswer: "Simple random sampling"
            },
            {
                question: "The frequency of flyovers is an indicator of",
                options: ["spatial resolution", "temporal resolution", "spectral resolution", "radiometric resolution"],
                correctAnswer: "temporal resolution"
            },
            {
                question: "___ is how close the measured values are to each other.",
                options: ["Accuracy", "Precision", "Bias", "Variance"],
                correctAnswer: "Precision"
            },
            {
                question: "Bathymetric LiDAR uses",
                options: ["far infrared light", "near infrared light", "orange light", "green light"],
                correctAnswer: "green light"
            },
            // quiz 6
            {
                question: "Invasive climbers increase the probability of which of these fire types?",
                options: ["ground fire", "surface fire", "ladder fire", "firestorm"],
                correctAnswer: "ladder fire"
            },
            {
                question: "Which of these forms the fire triangle?",
                options: ["fire, air, heat", "fire, oxygen, wood", "fuel, air, wood", "fuel, oxygen, heat"],
                correctAnswer: "fuel, oxygen, heat"
            },
            {
                question: "A scientist uses a trap to capture a monkey. In the context of Wildlife Protection Act 1972,",
                options: [
                    "the trap is a weapon and capturing is hunting.",
                    "the trap is not a weapon and capturing is hunting.",
                    "the trap is a weapon and capturing is not hunting.",
                    "the trap is not a weapon and capturing is not hunting."
                ],
                correctAnswer: "the trap is a weapon and capturing is hunting."
            },
            {
                question: "In the formula I = PXAXT, P refers to",
                options: ["professional pressure", "pollution pressure", "population pressure", "none of the above"],
                correctAnswer: "population pressure"
            },
            {
                question: "In the formula I = PXAXT, T refers to",
                options: ["transference", "time", "technology", "none of the above"],
                correctAnswer: "technology"
            },
            {
                question: "Which of these is a stochastic factor?",
                options: ["birth rate", "death rate", "population structure", "forest fire"],
                correctAnswer: "forest fire"
            },
            {
                question: "The acronym HIPPO does not include",
                options: ["habitat loss", "habitat enhancement", "over-harvesting", "human over-population"],
                correctAnswer: "habitat enhancement"
            },
            {
                question: "A veterinarian uses an immobilising gun to capture a deer. In the context of Wildlife Protection Act 1972,",
                options: [
                    "the immobilising gun is a weapon and capturing is hunting.",
                    "the immobilising gun is not a weapon and capturing is hunting.",
                    "the immobilising gun is a weapon and capturing is not hunting.",
                    "the immobilising gun is not a weapon and capturing is not hunting."
                ],
                correctAnswer: "the immobilising gun is a weapon and capturing is hunting."
            },
            {
                question: "Which of these is a deterministic factor?",
                options: ["environmental variation", "forest fire", "death rate", "diseases"],
                correctAnswer: "death rate"
            },
            {
                question: "The acronym HIPPO does not include",
                options: ["habitat loss", "invasive species", "pollination", "pollution"],
                correctAnswer: "pollination"
            }
        ];

        // Store original order
        const originalQuizData = [...quizData];
        let currentQuizData = [...originalQuizData];
        
        const quizContainer = document.getElementById('quiz');
        const submitButton = document.getElementById('submit');
        const resetButton = document.getElementById('reset');
        const scoreDisplay = document.getElementById('score');
        const randomizeBtn = document.getElementById('randomize-btn');
        const originalBtn = document.getElementById('original-btn');
        const progressBar = document.getElementById('progress');
        
        // Function to shuffle array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        
        // Create animated background bubbles
        function createBubbles() {
            for (let i = 0; i < 20; i++) {
                const bubble = document.createElement('div');
                bubble.classList.add('floating-bubble');
                
                // Random size between 20px and 100px
                const size = Math.random() * 80 + 20;
                bubble.style.width = `${size}px`;
                bubble.style.height = `${size}px`;
                
                // Random position
                bubble.style.left = `${Math.random() * 100}%`;
                bubble.style.bottom = `${Math.random() * 20 - 20}%`;
                
                // Random animation duration
                bubble.style.animationDuration = `${Math.random() * 10 + 5}s`;
                
                // Random delay
                bubble.style.animationDelay = `${Math.random() * 5}s`;
                
                document.body.appendChild(bubble);
                
                // Remove bubble after animation completes
                setTimeout(() => {
                    bubble.remove();
                }, (parseFloat(bubble.style.animationDuration) + parseFloat(bubble.style.animationDelay)) * 1000);
            }
        }
        
        // Set up continuous bubble creation
        setInterval(createBubbles, 3000);
        createBubbles(); // Initial bubbles
        
        function buildQuiz() {
            const output = [];
            
            currentQuizData.forEach((question, questionIndex) => {
                const options = [];
                
                for (let i = 0; i < question.options.length; i++) {
                    options.push(
                        `<div class="option">
                            <input type="radio" id="question${questionIndex}option${i}" name="question${questionIndex}" value="${question.options[i]}">
                            <label for="question${questionIndex}option${i}">${question.options[i]}</label>
                        </div>`
                    );
                }
                
                output.push(
                    `<div class="question-container" style="animation-delay: ${questionIndex * 0.1}s">
                        <div class="question">${questionIndex + 1}. ${question.question}</div>
                        <div class="options">${options.join('')}</div>
                        <div class="feedback" id="feedback${questionIndex}"></div>
                    </div>`
                );
            });
            
            quizContainer.innerHTML = output.join('');
            
            // Add event listeners to track progress
            updateProgress();
            const radioButtons = document.querySelectorAll('input[type="radio"]');
            radioButtons.forEach(button => {
                button.addEventListener('change', updateProgress);
            });
        }
        
        function updateProgress() {
            const totalQuestions = currentQuizData.length;
            const answeredQuestions = document.querySelectorAll('input[type="radio"]:checked').length;
            const progressPercentage = Math.round((answeredQuestions / totalQuestions) * 100);
            
            progressBar.style.width = `${progressPercentage}%`;
            progressBar.textContent = `${progressPercentage}% Complete`;
        }
        
        function showResults() {
            const answerContainers = quizContainer.querySelectorAll('.question-container');
            let score = 0;
            
            currentQuizData.forEach((question, questionIndex) => {
                const answerContainer = answerContainers[questionIndex];
                const selector = `input[name=question${questionIndex}]:checked`;
                const userAnswer = (answerContainer.querySelector(selector) || {}).value;
                const feedbackDiv = document.getElementById(`feedback${questionIndex}`);
                
                if (userAnswer === question.correctAnswer) {
                    score++;
                    feedbackDiv.innerHTML = `<span style="font-size:18px">âœ“</span> Yes, the answer is correct.<br>Accepted Answer:<br><em>${question.correctAnswer}</em><br><strong>1 point</strong>`;
                    feedbackDiv.className = 'feedback correct';
                    answerContainer.style.borderLeft = '4px solid #3c763d';
                } else {
                    feedbackDiv.innerHTML = `<span style="font-size:18px">âœ—</span> Incorrect. The correct answer is:<br><em>${question.correctAnswer}</em>`;
                    feedbackDiv.className = 'feedback incorrect';
                    answerContainer.style.borderLeft = '4px solid #a94442';
                }
                
                feedbackDiv.style.display = 'block';
                
                // Animate feedback appearance
                feedbackDiv.style.opacity = '0';
                setTimeout(() => {
                    feedbackDiv.style.opacity = '1';
                }, 100);
            });
            
            const percentage = Math.round((score / currentQuizData.length) * 100);
            scoreDisplay.innerHTML = `
                <div style="font-size: 24px; margin-bottom: 10px;">Final Score: ${score} out of ${currentQuizData.length} (${percentage}%)</div>
                <div style="font-size: 18px;">${getScoreMessage(percentage)}</div>
            `;
            
            submitButton.style.display = 'none';

            resetButton.style.display = 'block';

// Create confetti effect for good scores
if (percentage >= 70) {
    createConfetti();
}
}

function getScoreMessage(percentage) {
    if (percentage >= 90) {
        return "Excellent! You're a forest expert! ðŸŒ³ðŸ‘‘";
    } else if (percentage >= 70) {
        return "Great job! You have solid knowledge about forests! ðŸŒ²";
    } else if (percentage >= 50) {
        return "Good effort! Keep learning about our forests! ðŸŒ±";
    } else {
        return "You might want to review the forest concepts again. Don't give up! ðŸ“š";
    }
}

function createConfetti() {
    for (let i = 0; i < 150; i++) {
        const confetti = document.createElement('div');
        confetti.style.position = 'fixed';
        confetti.style.width = `${Math.random() * 10 + 5}px`;
        confetti.style.height = `${Math.random() * 10 + 5}px`;
        confetti.style.backgroundColor = ['#4CAF50', '#2196F3', '#e47fcc', '#FFC107', '#9C27B0'][Math.floor(Math.random() * 5)];
        confetti.style.left = `${Math.random() * 100}%`;
        confetti.style.top = '-10px';
        confetti.style.borderRadius = `${Math.random() > 0.5 ? '50%' : '0'}`;
        confetti.style.zIndex = '1000';
        confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
        confetti.style.opacity = Math.random() * 0.7 + 0.3;
        
        document.body.appendChild(confetti);
        
        // Animate falling
        const animationDuration = Math.random() * 3 + 2;
        confetti.animate([
            { transform: `translateY(0) rotate(0deg)`, opacity: 1 },
            { transform: `translateY(${window.innerHeight}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
        ], {
            duration: animationDuration * 1000,
            easing: 'ease-in',
            iterations: 1
        });
        
        // Remove after animation
        setTimeout(() => {
            confetti.remove();
        }, animationDuration * 1000);
    }
}

function resetQuiz() {
    // Clear all selections
    const radioButtons = document.querySelectorAll('input[type="radio"]');
    radioButtons.forEach(button => button.checked = false);
    
    // Hide feedback
    const feedbackDivs = document.querySelectorAll('.feedback');
    feedbackDivs.forEach(div => div.style.display = 'none');
    
    // Reset question container styling
    const questionContainers = document.querySelectorAll('.question-container');
    questionContainers.forEach(container => container.style.borderLeft = '1px solid #ddd');
    
    // Reset score display
    scoreDisplay.innerHTML = '';
    
    // Show submit button, hide reset button
    submitButton.style.display = 'block';
    resetButton.style.display = 'none';
    
    // Reset progress bar
    progressBar.style.width = '0%';
    progressBar.textContent = '0% Complete';
}

// Event listeners for randomize/original order buttons
randomizeBtn.addEventListener('click', function() {
    currentQuizData = shuffleArray([...originalQuizData]);
    buildQuiz();
    resetQuiz();
    
    // Highlight active button
    randomizeBtn.style.backgroundColor = '#1a5276';
    originalBtn.style.backgroundColor = '#2980b9';
    
    // Add a little animation to the quiz container
    document.querySelector('.quiz-container').classList.add('pop');
    setTimeout(() => {
        document.querySelector('.quiz-container').classList.remove('pop');
    }, 300);
});

originalBtn.addEventListener('click', function() {
    currentQuizData = [...originalQuizData];
    buildQuiz();
    resetQuiz();
    
    // Highlight active button
    originalBtn.style.backgroundColor = '#1a5276';
    randomizeBtn.style.backgroundColor = '#2980b9';
    
    // Add a little animation to the quiz container
    document.querySelector('.quiz-container').classList.add('pop');
    setTimeout(() => {
        document.querySelector('.quiz-container').classList.remove('pop');
    }, 300);
});

// Add pop animation to CSS
document.head.insertAdjacentHTML('beforeend', `
    <style>
        @keyframes pop {
            0% { transform: scale(0.98); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        .pop {
            animation: pop 0.3s ease;
        }
    </style>
`);

// Initial build
buildQuiz();

// Event listeners
submitButton.addEventListener('click', showResults);
resetButton.addEventListener('click', resetQuiz);
    </script>